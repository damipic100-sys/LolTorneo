<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ladderboard LoL</title>
<style>
  body { font-family: Arial; background: #12122b; color: #fff; margin: 0; padding: 0; }
  header { background: #2a2a50; padding: 1rem; text-align: center; font-size: 1.8rem; font-weight: bold; }
  main { max-width: 900px; margin: auto; padding: 1rem; }
  table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
  th, td { padding: 0.75rem; text-align: left; }
  th { background: #1f1f40; }
  tr:nth-child(even) { background: #1b1b35; }
  tr:hover { background: #2a2a50; }
</style>
</head>
<body>

<header>Ladderboard Torneo LoL</header>
<main>
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Jugador</th>
        <th>Elo</th>
        <th>Wins</th>
        <th>Losses</th>
      </tr>
    </thead>
    <tbody id="ladder"></tbody>
  </table>
</main>

<script>
const players = [
  {summonerName: "Jugador1", region: "na1"},
  {summonerName: "Jugador2", region: "na1"},
  {summonerName: "Jugador3", region: "na1"}
];

// Simula fetch a tu backend que llama Riot API
async function fetchPlayerData(summonerName, region) {
  // Reemplazá con tu backend, por ejemplo:
  // return fetch(`/api/riot/${region}/${summonerName}`).then(r => r.json());

  // Esto es un ejemplo simulado
  return new Promise(res => setTimeout(() => {
    const elos = ["IRON", "BRONZE", "SILVER", "GOLD", "PLATINUM", "DIAMOND"];
    const tier = elos[Math.floor(Math.random() * elos.length)];
    res({summonerName, tier, wins: Math.floor(Math.random()*100), losses: Math.floor(Math.random()*100)});
  }, 500));
}

async function updateLadder() {
  const ladder = document.getElementById("ladder");
  ladder.innerHTML = "";

  const results = await Promise.all(players.map(p => fetchPlayerData(p.summonerName, p.region)));

  // Ordenar por tier (simplificado, solo por el índice de elos)
  const tierOrder = ["IRON","BRONZE","SILVER","GOLD","PLATINUM","DIAMOND","MASTER","GRANDMASTER","CHALLENGER"];
  results.sort((a,b) => tierOrder.indexOf(b.tier) - tierOrder.indexOf(a.tier));

  results.forEach((p,i) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${i+1}</td>
      <td>${p.summonerName}</td>
      <td>${p.tier}</td>
      <td>${p.wins}</td>
      <td>${p.losses}</td>
    `;
    ladder.appendChild(tr);
  });
}

// Actualiza cada 60s
updateLadder();
setInterval(updateLadder, 60000);
</script>

</body>
</html>
